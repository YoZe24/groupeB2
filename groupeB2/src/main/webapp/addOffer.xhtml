<!DOCTYPE html>
<html 	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
<head>
<title>Ajout d'offre</title>
<meta http-equiv="
	Content-Type" content="text/html; charset=UTF-8" />
	
	
<link rel="icon" type="image/x-icon" href="favicon.ico"/>
 <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/>
 <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous"/>
 <link rel="stylesheet" href="Css.css"/>
 
 
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
 		 		  
<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/momentjs/2.14.1/moment.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/js/bootstrap-datetimepicker.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css"/>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"/>
<link rel="icon" type="image/x-icon" href="favicon.ico"/>-->
		 
 	<script type="text/javascript">
	    $(function () {
	        $('#offerDatetimepicker1').datetimepicker({format: "YYYY-MM-DD HH:mm"});
	        $('#offerDatetimepicker2').datetimepicker({useCurrent: false,format: "YYYY-MM-DD HH:mm"});
	        $("#offerDatetimepicker1").on("dp.change", function (e) {$('#offerDatetimepicker2').data("DateTimePicker").minDate(e.date);});
	        $("#offerDatetimepicker2").on("dp.change", function (e) {$('#offerDatetimepicker1').data("DateTimePicker").maxDate(e.date);});
	    });
	</script>

</head>
<body>

	<div id="header">
		<ui:insert name="header" >
		  <ui:include src="header.xhtml" />
		</ui:insert>
	 </div>
	 
	 <div  class="container text-center">
	 	<h1>Bonjour #{userControl.userCurrent.name}</h1>
	 	<h2>Ajouter une offre</h2>
	 	 <h:form enctype='multipart/form-data'> 
		 	<h3>Informations de la société</h3>
		 		<div class="form-group row">
		         	<h:outputLabel class="col-sm-2 col-form-label" for="societyName">Nom de la société</h:outputLabel>
		         	<div class="col-sm-8">
				        <h:inputText class="form-control" id="societyName" value="#{offerControl.offer.societyName}" size="20" maxlength="50" p:placeholder="Entrez le nom de la société" required="true" requiredMessage="Veuillez entrez un nom"/>
				    </div>
			     </div>
			     <div class="form-group row">
		         	<h:outputLabel class="col-sm-2 col-form-label" for="societyMail">Email de la société</h:outputLabel>
		         	<div class="col-sm-8">
				        <h:inputText class="form-control" id="societyMail" value="#{offerControl.offer.societyMail}" size="20" maxlength="50" p:placeholder="Entrez le mail de la société" required="true" requiredMessage="Veuillez entrez un nom"/>
				    </div>
			     </div>
			      <div class="form-group row">
		         	<h:outputLabel class="col-sm-2 col-form-label" for="societySector">Secteur de la société</h:outputLabel>
		         	<div class="col-sm-8">
				        <h:inputText class="form-control" id="societySector" value="#{offerControl.offer.societySector}" size="20" maxlength="50" p:placeholder="Entrez le secteur d'activité de la société" required="true" requiredMessage="Veuillez entrez un nom"/>
				    </div>
			     </div>
			      <div class="form-group row">
		         	<h:outputLabel class="col-sm-2 col-form-label" for="societyNum">Numéro de la société</h:outputLabel>
		         	<div class="col-sm-8">
				        <h:inputText class="form-control" id="societyNum" value="#{offerControl.offer.societyNum}" size="20" maxlength="50" p:placeholder="Entrez le numéro de la société" required="true" requiredMessage="Veuillez entrez un nom"/>
				    </div>
			     </div>
			     <h3>Informations de l'offre</h3>
			     <div class="form-group row">
		         	<h:outputLabel class="col-sm-2 col-form-label" for="functionOffer">Numéro de la société</h:outputLabel>
		         	<div class="col-sm-8">
				        <h:inputText class="form-control" id="functionOffer" value="#{offerControl.offer.functionOffer}" size="20" maxlength="50" p:placeholder="Entrez la fonction de l'offre" required="true" requiredMessage="Veuillez entrez un nom"/>
				    </div>
			     </div>
			     <div class="form-group row">
		         	<h:outputLabel class="col-sm-2 col-form-label" for="subject">Sujet de l'offre</h:outputLabel>
		         	<div class="col-sm-8">
				        <h:inputText class="form-control" id="subject" value="#{offerControl.offer.subject}" size="20" maxlength="50" p:placeholder="Entrez le sujet de l'offre" required="true" requiredMessage="Veuillez entrez un nom"/>
				    </div>
			     </div>
			      <div class="form-group row">
		         	<h:outputLabel class="col-sm-2 col-form-label" for="offerTypes">Type de l'offre</h:outputLabel>
		         	<div class="col-sm-8">
				        <h:selectOneMenu id="offerTypes" value="#{offerControl.offer.offerType}" required="true">
	        				<f:selectItems value="#{offerControl.getOfferTypes()}" />
	       				</h:selectOneMenu>
				    </div>
			     </div>
			      <div class="form-group row">
		         	<h:outputLabel class="col-sm-2 col-form-label" for="olSkills">Sujet de l'offre</h:outputLabel>
		         	<div class="col-sm-8">
				        <h:inputTextarea value="#{offerControl.offer.skillsNeeded}" cols="20" row="5"></h:inputTextarea>
				    </div>
			     </div>
			     <div class="form-group row">
		         	<h:outputLabel class="col-sm-2 col-form-label" for="offerDatetimepicker1">Date de début de l'offre</h:outputLabel>
		         	<div class='input-group date col-sm-8' id='offerDatetimepicker1'>
			            <h:inputText class="form-control" value="#{offerControl.startDateStr}"/>
			            	<span class="input-group-addon">
			            	<span class="fa fa-calendar"></span>
			            </span>
            		</div>
			    </div>
			     <div class="form-group row">
		         	<h:outputLabel class="col-sm-2 col-form-label" for="offerDatetimepicker2">Date de fin de l'offre</h:outputLabel>
		         	<div class='input-group date col-sm-8' id='offerDatetimepicker2'>
			            <h:inputText class="form-control" value="#{offerControl.endDateStr}"/>
			            	<span class="input-group-addon">
			            	<span class="fa fa-calendar"></span>
			            </span>
            		</div>
			    </div>
			    <div class="form-group row">
			    	 <h:outputLabel for="pathFile">Ajout d'un pdf</h:outputLabel>
			    	 <div class="col-sm-8">
			    	 	<h:inputFile value="#{offferControl.pdf}"/>
			    	 </div>
			    </div>
			    
			    <h3>Adresse de la société</h3>
	         	<div class="form-group row">
		         	<h:outputLabel class="col-sm-2 col-form-label" for="street">Rue</h:outputLabel>
		         	<div class="col-sm-8">
				       	<h:inputText  class="form-control" id="street" value="#{offerControl.offer.societyAddress.street}" size="20" maxlength="60"  p:placeholder="Entrez votre rue" required="true" requiredMessage="Veuillez entrez une rue"/>
				    </div>
			    </div>
	        	<div class="form-group row">
		        	<h:outputLabel class="col-sm-2 col-form-label" for="num">Numéro</h:outputLabel>
		        	<div class="col-sm-8">
				        <h:inputText  class="form-control" id="num" value="#{offerControl.offer.societyAddress.num}" size="20" maxlength="60" p:placeholder="Entrez votre numéro" required="true" requiredMessage="Veuillez entrez un numéro"/>
				    </div>
			    </div>
		       	<div class="form-group row">        
				    <h:outputLabel class="col-sm-2 col-form-label" for="city">Ville</h:outputLabel>
				    <div class="col-sm-8">
				       	<h:inputText  class="form-control" id="city" value="#{offerControl.offer.societyAddress.city}" size="20" maxlength="60" p:placeholder="Entrez votre ville" required="true" requiredMessage="Veuillez entrez une ville"/>
				    </div>
			    </div>
		       	<div class="form-group row">   		        
			       	<h:outputLabel class="col-sm-2 col-form-label" for="cp">Code Postal</h:outputLabel>
			       	<div class="col-sm-8">
				       	<h:inputText  class="form-control" id="cp" value="#{offerControl.offer.societyAddress.cp}" size="20" maxlength="60" p:placeholder="Entrez votre code postal" required="true" requiredMessage="Veuillez entrez un code postal"/>
				    </div>        
			    </div>
			    <h:commandButton id="submit" value="Ajouter" action="#{offerControl.addOffer(userControl.userCurrent)}" styleClass="btn btn-success" style="float : left;"/> 
		</h:form>
	 </div>

         <!--<fieldset>
         	<legend>Ajout d'offre de stage</legend>
         	<h:outputLabel for="societyName">Nom de la societé<span class="requis">*</span></h:outputLabel>
	        <h:inputText id="societyName" value="#{offerControl.offer.societyName}" required="true" size="20" maxlength="50" />
	        <h:message id="societyNameMessage" for="societyName" errorClass="erreur" />
	        <br />
	        <h:outputLabel for="societyMail">Email de la societé<span class="requis">*</span></h:outputLabel>
	        <h:inputText id="societyMail" value="#{offerControl.offer.societyMail}" required="true" size="20" maxlength="50" />
	        <h:message id="societyMailMessage" for="societyMail" errorClass="erreur" />
	        <br />
	        <h:outputLabel for="societySector">Secteur de la societé<span class="requis">*</span></h:outputLabel>
	        <h:inputText id="societySector" value="#{offerControl.offer.societySector}" required="true" size="20" maxlength="50" />
	        <h:message id="societySectorMessage" for="societySector" errorClass="erreur" />
	        <br />
	        <h:outputLabel for="societyNum">Numéro de la societé<span class="requis">*</span></h:outputLabel>
	        <h:inputText id="societyNum" value="#{offerControl.offer.societyNum}" required="true"/>
	        <h:message id="societyNumMessage" for="societySector" errorClass="erreur" />
	        <br />
	        <h:outputLabel for="functionOffer">Fonction de l'offre<span class="requis">*</span></h:outputLabel>
	        <h:inputText id="functionOffer" value="#{offerControl.offer.functionOffer}" required="true"/>
	        <h:message id="functionOfferMessage" for="functionOffer" errorClass="erreur" />
	        <br />
	        <h:outputLabel for="subject">Sujet de l'offre<span class="requis">*</span></h:outputLabel>
	        <h:inputText id="subject" value="#{offerControl.offer.subject}" required="true"/>
	        <h:message id="subjectMessage" for="subject" errorClass="erreur" />
	        <br />
	        <h:outputLabel for="offerTypes">Type de l'offre<span class="requis">*</span></h:outputLabel>
	        <h:selectOneMenu id="offerTypes" value="#{offerControl.offer.offerType}" required="true">
	        	<f:selectItems value="#{offerControl.getOfferTypes()}" />
	        </h:selectOneMenu>
	    	<br/>
	    	<h:outputLabel for="skillsNeeded" id="oLskills">Compétences demandées <span class="requis">*</span></h:outputLabel>
	    	<h:inputTextarea value="#{offerControl.offer.skillsNeeded}" cols="20" row="5"></h:inputTextarea>
	    	<br/>
 			<h:outputLabel for="offerDatetimepicker1">Date de début de l'offre<span class="requis">*</span></h:outputLabel>
	     	<div class='input-group date' id='offerDatetimepicker1'>
	            <h:inputText class="form-control" value="#{offerControl.startDateStr}"/>
	            <span class="input-group-addon">
	            <span class="glyphicon glyphicon-calendar"></span>
	            </span>
            </div>
	        <h:message id="startDateMessage" for="startDate" errorClass="erreur" />
	        <br />
	        <h:outputLabel for="offerDatetimepicker2">Date de fin de l'offre<span class="requis">*</span></h:outputLabel>
	        <div class='input-group date' id='offerDatetimepicker2'>
	            <h:inputText class="form-control" value="#{offerControl.endDateStr}"/>
	            <span class="input-group-addon">
	            <span class="glyphicon glyphicon-calendar"></span>
	            </span>
            </div>
	        <h:message id="endDateMessage" for="endDate" errorClass="erreur" />
	        <br />
	        <h:outputLabel for="pathFile">Ajout d'un pdf</h:outputLabel>
	  			<h:inputFile value="#{offerControl.pdf}"/>
   				<br />
		        <h:message id="pathFileMessage" for="pathFileMessage" errorClass="erreur" />
	        <br />
	        <h:outputLabel for="amount">Montant de l'offre (pas obligatoire)</h:outputLabel>
	        <h:inputText id="amount" value="#{offerControl.offer.amount}" />
	        <br />
   	 	    <fieldset>
         		<legend>Adresse de la societé</legend>
         		<h:outputLabel for="street">Rue<span class="requis">*</span></h:outputLabel>
	        	<h:inputText id="street" value="#{offerControl.offer.societyAddress.street}" required="true" size="20" maxlength="60" />
	        	<h:message id="streetMessage" for="street" errorClass="erreur" />
	        	<br />
	        	<h:outputLabel for="num">Numéro<span class="requis">*</span></h:outputLabel>
		        <h:inputText id="num" value="#{offerControl.offer.societyAddress.num}" required="true" size="20" maxlength="60"/>
		        <h:message id="numMessage" for="num" errorClass="erreur" />
		        <br />
		        <h:outputLabel for="city">Ville<span class="requis">*</span></h:outputLabel>
	        	<h:inputText id="city" value="#{offerControl.offer.societyAddress.city}" required="true" size="20" maxlength="60" />
	        	<h:message id="cityMessage" for="city" errorClass="erreur" />
	        	<br />
	        	<h:outputLabel for="cp">Code Postal<span class="requis">*</span></h:outputLabel>
	        	<h:inputText id="cp" value="#{offerControl.offer.societyAddress.cp}" required="true" size="20" maxlength="60"/>
	        	<h:message id="cpMessage" for="cp" errorClass="erreur" />
	        	<br />
         	</fieldset> 
	        <h:messages globalOnly="true" infoClass="info" />
   			   	<h:commandButton value="Ajouter l'offre" action="#{offerControl.addOffer(userControl.userCurrent)}"></h:commandButton>
			<br />
	     </fieldset>-->
</body>
</html>
